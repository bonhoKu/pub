<!doctype html>
<HTML>
<HEAD>
<TITLE>pub Calendar-예제</TITLE>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="../theme/default/pub.example.css" rel="stylesheet">
<link href="../theme/default/pub.calendar.css" rel="stylesheet">

<script src="../plugins/jquery-1.10.2.min.js"></script>
<script src="../plugins/jquery-ui-1.10.3.custom.min.js"></script>
<script src="../plugins/moment.min.js"></script>

<script src="../dist/pub.calendar.js"></script>
<script>

//기념일 등록. 
$.pubCalendar.setMemorialDay([
	{date:'1002',desc : '대체공휴일' ,isLunar: false ,holiday :  true}
	,{date:'1006',desc : '대체공휴일' ,isLunar: false ,holiday :  true}
]);

var calItems = [{"START_HOUR":"0000","WR_NO":"0000259","END_HOUR":"2300","MOD_ID":"31007117","END_DATE":"20160713","TITLE":"제목11없음","START_DATE":"20160713","REPEAT_INFO":"{\"cycle\":\"2\",\"wed\":1,\"START_HOUR\":\"0900\",\"END_HOUR\":\"2400\",\"day\":\"2\"}"}];

//var todayDate =moment(new Date()).format('YYYY-MM-DD');
var todayDate = '2016-07-13'
function createMini(){

	$.pubCalendar('#minical',{
		todayDate : todayDate
		,viewMode : 'mini'
		,useLunar : true
		,dayViewMode : '4'
		,eventDisplay : true
		//,eventDisplayClass : 'select'
		,eventDisplayHtm : false
		,memorialDays :[
			{date:'20160524',desc : 'efefefe' ,isLunar: false ,holiday : true}
		]
		,dayClick :function (aa){
			console.log(aa);
		}
		,beforeCalendar :function (){

		}
		,event : {
			type :'local' //local or ajax
			,read: {
				url: "//demos.telerik.com/kendo-ui/service/tasks"
			}
			,save: {
				url: "//demos.telerik.com/kendo-ui/service/tasks/update"
			}
			,del : {
				url: "//demos.telerik.com/kendo-ui/service/tasks/destroy"
			}
			,colModel : {
				start : 'START_DATE'
				,title : 'TITLE'
				,end : 'END_DATE'
				,startTime : 'START_HOUR'
				,endTime :'END_HOUR'
				,repeat:'REPEAT'
				,repeatInfo:'REPEAT_INFO'
			}
			,items : calItems
		}
	});
}
</script>

</HEAD>

<BODY>
<div class="pub-main">
	<h2 class="page-header">캘린더</h2>
	<div style="height:500px;">
		<table width = "100%" border = "0" height="100%" border="1">
		<tr>
			<td>
				<div id="full" style=""></div>
			</td>
		</tr>
		<tr>
			<td>
				<div id="minical"></div>
			</td>
		</tr>

		<tr>
			<td>
				<div id="diayContentDiv" ></div>
			</td>
		</tr>
		<tr>
			<td>
				<div id="yearCalendar"></div>
			</td>
		</tr>
		</table>
	</div>
</div>
	
</BODY>
</HTML>
<script>
function evtTest(){
	
}

$(document).ready(function (){
	fn_init();
	evtTest();
});

var miniFlag = 0;

function fn_init(){
	var todayDateArr = todayDate.split("-"); // 오늘 날짜
	
	if(miniFlag > 0){
		createMini();
	}

	$.pubCalendar('#full',{
		todayDate : todayDate
		,viewMode : 'full-month'
		,useLunar : true
		,dayViewMode : '4'
		,maxEventRow : 3
		,eventWrite1 :function (writeObj){
			console.log('eventWrite', writeObj);
		}
		,eventWriteCallback : function (writeInfo){
			console.log('writeInfo : ', writeInfo);
		}
		,event : {
			type :'local' //local or ajax
			,url : 'http://www.naver.com'
			,colModel : {
				start : 'START_DATE'
				,title : 'TITLE'
				,end : 'END_DATE'
				,startTime : 'START_HOUR'
				,endTime :'END_HOUR'
				,repeat:'REPEAT'
				,repeatInfo:'REPEAT_INFO'
			}
			,items : calItems
		}
	});
}

</script>
